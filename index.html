<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=3.0">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>شركة الخط الأول - تسجيل المناديب ولوحة الإدارة</title>
    <style>
        /* إعدادات الطباعة المحسنة */
        @page {
            size: A4;
            margin: 5mm;
        }
        
        /* إعدادات الطباعة - A4 بدون هوامش */
        @media print {
            @page {
                size: A4;
                margin: 0;
                padding: 0;
            }
            
            * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            body {
                margin: 0 !important;
                padding: 5mm !important;
                font-size: 8px !important;
                line-height: 1.1 !important;
                background: white !important;
                color: black !important;
            }
            
            .container {
                max-width: none !important;
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                border-radius: 0 !important;
            }
            
            .company-header {
                padding: 5px !important;
                margin-bottom: 3px !important;
                background: #1e3a8a !important;
                color: white !important;
                border-radius: 0 !important;
                page-break-inside: avoid;
            }
            
            .company-title {
                font-size: 12px !important;
                margin-bottom: 2px !important;
            }
            
            .company-subtitle {
                font-size: 8px !important;
            }
            
            .company-logo {
                width: 25px !important;
                height: 25px !important;
                margin: 0 auto 3px !important;
            }
            
            .form-title {
                font-size: 11px !important;
                margin: 10px 0 !important;
            }
            
            .main-form {
                padding: 3px !important;
                box-shadow: none !important;
                border-radius: 0 !important;
            }
            
            .section {
                margin-bottom: 5px !important;
                padding: 4px !important;
                border: 1px solid #ccc !important;
                border-radius: 2px !important;
                background: #f9f9f9 !important;
                page-break-inside: avoid;
            }
            
            .section-header {
                margin-bottom: 3px !important;
            }
            
            .section-title {
                font-size: 10px !important;
                margin-bottom: 3px !important;
                padding-bottom: 1px !important;
                border-bottom: 1px solid #666 !important;
            }
            
            .section-icon {
                width: 15px !important;
                height: 15px !important;
                margin-left: 5px !important;
            }
            
            .form-group {
                margin-bottom: 3px !important;
            }
            
            .form-group label {
                font-size: 8px !important;
                margin-bottom: 1px !important;
                font-weight: bold !important;
            }
            
            .form-group input,
            .form-group select,
            .form-group textarea {
                font-size: 7px !important;
                padding: 2px !important;
                border: 1px solid #666 !important;
                border-radius: 1px !important;
                height: 15px !important;
                min-height: 15px !important;
            }
            
            .form-group textarea {
                height: 30px !important;
                min-height: 30px !important;
            }
            
            .btn {
                display: none !important;
            }
            
            /* إخفاء العناصر غير المطلوبة للطباعة */
            .submit-btn,
            #sendCodeBtn,
            input[type="file"],
            input[type="checkbox"],
            button {
                display: none !important;
            }
            
            /* تنسيق خاص للنصوص المهمة */
            .required {
                color: #000 !important;
                font-weight: bold !important;
            }
            
            /* تحسين عرض التطبيقات */
            #appDetails {
                font-size: 7px !important;
                line-height: 1.2 !important;
            }
            
            /* تحسين عرض السند الإذني */
            #promissorySection {
                font-size: 7px !important;
                line-height: 1.3 !important;
            }
            
            /* كسر الصفحة قبل أقسام مهمة */
            .section:nth-of-type(3) {
                page-break-before: auto;
            }
            
            /* منع كسر الصفحة داخل الأقسام المهمة */
            #promissorySection,
            .company-header {
                page-break-inside: avoid !important;
            }
        }
        
        /* تبديل المناظر */
        .view-section {
            display: none;
        }
        
        .view-section.active {
            display: block;
        }
        
        /* تبويبات التنقل */
        .nav-tabs {
            display: flex;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            border-radius: 15px 15px 0 0;
            overflow: hidden;
            margin-bottom: 0;
        }
        
        .nav-tab {
            flex: 1;
            padding: 15px 20px;
            background: transparent;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            opacity: 0.7;
        }
        
        .nav-tab.active {
            opacity: 1;
            background: rgba(255, 255, 255, 0.2);
        }
        
        .nav-tab:hover {
            opacity: 1;
            background: rgba(255, 255, 255, 0.1);
        }
        
        /* لوحة الإدارة */
        .admin-panel {
            background: white;
            border-radius: 0 0 15px 15px;
            padding: 30px;
        }
        
        .login-form {
            max-width: 400px;
            margin: 0 auto;
            padding: 30px;
            background: var(--bg-color);
            border-radius: 15px;
            border: 2px solid var(--border-color);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .stat-number {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .applications-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        
        .applications-table th,
        .applications-table td {
            padding: 15px;
            text-align: right;
            border-bottom: 1px solid var(--border-color);
        }
        
        .applications-table th {
            background: var(--primary-color);
            color: white;
            font-weight: bold;
        }
        
        .applications-table tr:hover {
            background: var(--bg-color);
        }
        
        .status-badge {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }
        
        .status-approved {
            background: #d1fae5;
            color: #065f46;
        }
        
        .status-rejected {
            background: #fecaca;
            color: #991b1b;
        }
        
        .action-btn {
            padding: 5px 10px;
            margin: 0 2px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .approve-btn {
            background: #10b981;
            color: white;
        }
        
        .reject-btn {
            background: #ef4444;
            color: white;
        }
        
        .view-btn {
            background: #3b82f6;
            color: white;
        }
        
        :root {
            --primary-color: #1e3a8a;
            --secondary-color: #3b82f6;
            --accent-color: #f59e0b;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --text-color: #1f2937;
            --border-color: #d1d5db;
            --bg-color: #f8fafc;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--text-color);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            overflow: hidden;
        }
        
        /* هيدر الشركة مع اللوغو */
        .company-header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .company-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="1" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
            animation: float 20s linear infinite;
        }
        
        @keyframes float {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        .company-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 2;
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            fill: var(--primary-color);
        }
        
        .company-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
        }
        
        .company-subtitle {
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }
        
        .form-title {
            font-size: 24px;
            color: var(--primary-color);
            text-align: center;
            margin: 30px 0;
            font-weight: bold;
        }
        
        /* أقسام النموذج */
        .main-form {
            padding: 40px;
        }
        
        .section {
            background: var(--bg-color);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
        }
        
        .section:hover {
            border-color: var(--primary-color);
            box-shadow: 0 5px 20px rgba(30, 58, 138, 0.1);
        }
        
        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .section-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-color);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
        }
        
        .section-icon svg {
            width: 24px;
            height: 24px;
            fill: white;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        /* حقول الإدخال */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--text-color);
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1);
        }
        
        .required {
            color: var(--danger-color);
        }
        
        /* أزرار */
        .btn {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(30, 58, 138, 0.3);
        }
        
        .submit-btn {
            width: 100%;
            background: linear-gradient(135deg, var(--success-color) 0%, #059669 100%);
            margin-top: 30px;
        }
        
        /* تصميم متجاوب */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .main-form {
                padding: 20px;
            }
            
            .company-header {
                padding: 20px;
            }
            
            .company-title {
                font-size: 22px;
            }
            
            .company-subtitle {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- هيدر الشركة مع اللوغو -->
        <div class="company-header">
            <div class="company-logo">
                <svg class="logo-icon" viewBox="0 0 24 24">
                    <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"/>
                    <path d="M8 11l2 2 4-4"/>
                </svg>
            </div>
            <h1 class="company-title">شركة الخط الأول للخدمات اللوجستية</h1>
            <p class="company-subtitle">الريادة في خدمات التوصيل والنقل</p>
        </div>
        
        <div class="main-form">
            <h2 class="form-title">نموذج تسجيل مناديب التوصيل</h2>
            
            <!-- نموذج التسجيل الكامل -->
            <form id="deliveryForm" action="/submit" method="POST" enctype="multipart/form-data">
                
                <!-- قسم اختيار التطبيق -->
                <div class="section">
                    <div class="section-header">
                        <div class="section-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                            </svg>
                        </div>
                        <h3 class="section-title">اختيار التطبيق والشروط الخاصة</h3>
                    </div>
                    
                    <div class="form-group">
                        <label>اختر التطبيق <span class="required">*</span></label>
                        <select id="appSelect" name="application" required>
                            <option value="">-- اختر التطبيق --</option>
                            <option value="kita-shift">كيتا (Kita) - نظام دوام</option>
                            <option value="kita-demand">كيتا (Kita) - نظام بالطلب</option>
                            <option value="jahez">جاهز (Jahez)</option>
                            <option value="thechefz">ذا شفز (The Chefz)</option>
                            <option value="mrsool">مرسول (Marsool)</option>
                            <option value="tuyodelivery">تويو للتوصيل (Tuyo Delivery)</option>
                            <option value="careem">كريم فود (Careem Food)</option>
                            <option value="noon">نون فود (Noon Food)</option>
                        </select>
                    </div>
                          <!-- عرض تفاصيل التطبيق -->
                <div id="appDetails" style="display: none;"></div>
                
                <!-- رقم STC Pay -->
                <div class="form-group">
                    <label>رقم حساب STC Pay <span class="required">*</span></label>
                    <input type="tel" name="stcPayNumber" required placeholder="05XXXXXXXX" pattern="05[0-9]{8}">
                </div>
                
                <!-- تعهد STC Pay -->
                <div id="stcPledge" style="background: #e6f3ff; border: 2px solid #0066cc; border-radius: 10px; padding: 20px; margin: 20px 0; display: none;">
                    <h4 style="color: #0066cc; margin-bottom: 15px;">⚠️ تعهد مهم بخصوص رقم حساب STC Pay:</h4>
                    <div style="background: white; padding: 15px; border-radius: 5px; border-right: 4px solid #ff9900;">
                        <p style="margin: 0; line-height: 1.6;">
                            أتعهد بأن رقم حساب STC Pay المدخل صحيح ويخصني شخصياً، وأتحمل المسؤولية الكاملة عن أي أخطاء في الرقم. 
                            كما أتعهد بعدم المطالبة بأي مبالغ في حالة الخطأ في رقم الحساب، وأوافق على تحمل أي رسوم إضافية قد تنشأ عن ذلك.
                        </p>
                    </div>
                    <div style="margin-top: 15px;">
                        <label style="display: flex; align-items: center; cursor: pointer;">
                            <input type="checkbox" id="stcAgreement" required style="margin-left: 10px;">
                            <span>أوافق على تعهد STC Pay أعلاه</span>
                        </label>
                    </div>
                </div>
            </div>
            
            <!-- البيانات الشخصية -->
            <div class="section">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                    </div>
                    <h3 class="section-title">البيانات الشخصية</h3>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>الاسم الكامل <span class="required">*</span></label>
                        <input type="text" name="fullName" required placeholder="أدخل الاسم الكامل">
                    </div>
                    
                    <div class="form-group">
                        <label>رقم الهوية <span class="required">*</span></label>
                        <input type="text" name="idNumber" required placeholder="1234567890" pattern="[0-9]{10}">
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>رقم الجوال <span class="required">*</span></label>
                        <input type="tel" name="phone" required placeholder="05XXXXXXXX" pattern="05[0-9]{8}">
                    </div>
                    
                    <div class="form-group">
                        <label>البريد الإلكتروني <span class="required">*</span></label>
                        <input type="email" name="email" required placeholder="example@email.com">
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>تاريخ الميلاد <span class="required">*</span></label>
                        <input type="date" name="birthDate" required>
                    </div>
                    
                    <div class="form-group">
                        <label>الجنسية <span class="required">*</span></label>
                        <select name="nationality" required>
                            <option value="">-- اختر الجنسية --</option>
                            <option value="saudi">سعودي</option>
                            <option value="expat">مقيم</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>العنوان الكامل <span class="required">*</span></label>
                    <textarea name="address" required placeholder="أدخل العنوان الكامل" rows="3"></textarea>
                </div>
            </div>
            
            <!-- رفع المستندات -->
            <div class="section">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                        </svg>
                    </div>
                    <h3 class="section-title">رفع المستندات المطلوبة</h3>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>صورة الهوية (الوجه الأمامي) <span class="required">*</span></label>
                        <input type="file" name="idFront" required accept="image/*">
                    </div>
                    
                    <div class="form-group">
                        <label>صورة الهوية (الوجه الخلفي) <span class="required">*</span></label>
                        <input type="file" name="idBack" required accept="image/*">
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>صورة رخصة القيادة <span class="required">*</span></label>
                        <input type="file" name="drivingLicense" required accept="image/*">
                    </div>
                    
                    <div class="form-group">
                        <label>صورة استمارة المركبة <span class="required">*</span></label>
                        <input type="file" name="vehicleRegistration" required accept="image/*">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>صورة شخصية حديثة <span class="required">*</span></label>
                    <input type="file" name="personalPhoto" required accept="image/*">
                </div>
            </div>
            
            <!-- التحقق الرقمي -->
            <div class="section">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M10,17L6,13L7.41,11.59L10,14.18L16.59,7.59L18,9L10,17Z"/>
                        </svg>
                    </div>
                    <h3 class="section-title">التحقق الرقمي</h3>
                </div>
                
                <div style="background: #f0f9ff; border: 2px solid #3b82f6; border-radius: 10px; padding: 20px; margin-bottom: 20px;">
                    <h4 style="color: #1e40af; margin-bottom: 15px;">📱 التحقق عبر رمز الجوال:</h4>
                    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 15px; align-items: end;">
                        <div class="form-group" style="margin: 0;">
                            <label>أدخل رمز التحقق <span class="required">*</span></label>
                            <input type="text" id="verificationCode" placeholder="أدخل الرمز المرسل لجوالك" required>
                        </div>
                        <button type="button" id="sendCodeBtn" class="btn" style="margin: 0; height: fit-content;">إرسال الرمز</button>
                    </div>
                    <p style="font-size: 12px; color: #6b7280; margin-top: 10px;">
                        سيتم إرسال رمز التحقق إلى رقم الجوال المدخل أعلاه
                    </p>
                </div>
                
                <div style="background: #f0fdf4; border: 2px solid #22c55e; border-radius: 10px; padding: 20px;">
                    <h4 style="color: #15803d; margin-bottom: 15px;">📸 التحقق عبر صورة الوجه:</h4>
                    <div class="form-group">
                        <label>ارفع صورة واضحة لوجهك <span class="required">*</span></label>
                        <input type="file" name="faceVerification" required accept="image/*">
                        <p style="font-size: 12px; color: #6b7280; margin-top: 5px;">
                            تأكد من وضوح الصورة وأن تكون في مكان مضيء
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- الشروط والأحكام العامة -->
            <div class="section">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"/>
                        </svg>
                    </div>
                    <h3 class="section-title">الشروط والأحكام العامة</h3>
                </div>
                
                <div style="background: #fffbeb; border: 2px solid #f59e0b; border-radius: 10px; padding: 20px; max-height: 300px; overflow-y: auto;">
                    <h4 style="color: #d97706; margin-bottom: 15px;">📋 الشروط العامة لجميع التطبيقات:</h4>
                    <ul style="line-height: 1.8; padding-right: 20px;">
                        <li>يجب أن يكون المتقدم سعودي الجنسية أو مقيم نظامي</li>
                        <li>عمر لا يقل عن 18 سنة ولا يزيد عن 60 سنة</li>
                        <li>وجود رخصة قيادة سارية المفعول</li>
                        <li>وجود مركبة مناسبة للتوصيل (دراجة نارية أو سيارة)</li>
                        <li>عدم وجود سوابق جنائية أو مخالفات مرورية خطيرة</li>
                        <li>الالتزام بأوقات العمل المحددة لكل تطبيق</li>
                        <li>الحفاظ على سرية معلومات العملاء</li>
                        <li>اتباع إرشادات السلامة والأمان</li>
                        <li>الالتزام بقوانين المرور والأنظمة المعمول بها</li>
                        <li>تحمل مسؤولية صيانة وتأمين المركبة</li>
                        <li>الحق للشركة في إنهاء التعاقد في حالة عدم الالتزام</li>
                        <li>جميع المبالغ المذكورة شاملة ضريبة القيمة المضافة</li>
                    </ul>
                </div>
                
                <div style="margin-top: 20px;">
                    <label style="display: flex; align-items: center; cursor: pointer; background: white; padding: 15px; border-radius: 10px; border: 2px solid #e5e7eb;">
                        <input type="checkbox" id="generalTermsAgreement" required style="margin-left: 15px; transform: scale(1.2);">
                        <span style="font-weight: bold;">أوافق على جميع الشروط والأحكام العامة المذكورة أعلاه</span>
                    </label>
                </div>
            </div>
            
            <!-- معلومات المركبة -->
            <div class="section">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M18.92,6.01C18.72,5.42 18.16,5 17.5,5H15V4A2,2 0 0,0 13,2H11A2,2 0 0,0 9,4V5H6.5C5.84,5 5.28,5.42 5.08,6.01L3,12V20A1,1 0 0,0 4,21H5A1,1 0 0,0 6,20V19H18V20A1,1 0 0,0 19,21H20A1,1 0 0,0 21,20V12L18.92,6.01M6.5,6.5H17.5L19,11H5L6.5,6.5M11,4H13V5H11V4M7.5,16A1.5,1.5 0 0,1 6,14.5A1.5,1.5 0 0,1 7.5,13A1.5,1.5 0 0,1 9,14.5A1.5,1.5 0 0,1 7.5,16M16.5,16A1.5,1.5 0 0,1 15,14.5A1.5,1.5 0 0,1 16.5,13A1.5,1.5 0 0,1 18,14.5A1.5,1.5 0 0,1 16.5,16Z"/>
                        </svg>
                    </div>
                    <h3 class="section-title">معلومات المركبة</h3>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>نوع المركبة <span class="required">*</span></label>
                        <select name="vehicleType" required>
                            <option value="">-- اختر نوع المركبة --</option>
                            <option value="motorcycle">دراجة نارية</option>
                            <option value="car">سيارة</option>
                            <option value="bicycle">دراجة هوائية</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>ماركة المركبة <span class="required">*</span></label>
                        <input type="text" name="vehicleBrand" required placeholder="مثال: تويوتا، هوندا">
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>موديل المركبة <span class="required">*</span></label>
                        <input type="text" name="vehicleModel" required placeholder="مثال: كامري، سيفيك">
                    </div>
                    
                    <div class="form-group">
                        <label>سنة الصنع <span class="required">*</span></label>
                        <input type="number" name="vehicleYear" required min="2000" max="2024" placeholder="2020">
                    </div>
                    
                    <div class="form-group">
                        <label>لون المركبة <span class="required">*</span></label>
                        <input type="text" name="vehicleColor" required placeholder="أبيض، أسود، إلخ">
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>رقم اللوحة <span class="required">*</span></label>
                        <input type="text" name="plateNumber" required placeholder="أ ب ج 123">
                    </div>
                    
                    <div class="form-group">
                        <label>رقم رخصة التشغيل <span class="required">*</span></label>
                        <input type="text" name="operatingLicense" required>
                    </div>
                </div>
            </div>
            
            <!-- الخبرة المهنية -->
            <div class="section">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M10,2H14A2,2 0 0,1 16,4V6H20A2,2 0 0,1 22,8V19A2,2 0 0,1 20,21H4C2.89,21 2,20.1 2,19V8C2,6.89 2.89,6 4,6H8V4C8,2.89 8.89,2 10,2M14,6V4H10V6H14Z"/>
                        </svg>
                    </div>
                    <h3 class="section-title">الخبرة المهنية</h3>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>سنوات الخبرة في التوصيل <span class="required">*</span></label>
                        <select name="experience" required>
                            <option value="">-- اختر سنوات الخبرة --</option>
                            <option value="0">بدون خبرة</option>
                            <option value="1">سنة واحدة</option>
                            <option value="2-3">2-3 سنوات</option>
                            <option value="4-5">4-5 سنوات</option>
                            <option value="5+">أكثر من 5 سنوات</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>التطبيقات التي عملت بها سابقاً</label>
                        <input type="text" name="previousApps" placeholder="مثال: جاهز، مرسول، كريم (اختياري)">
                    </div>
                </div>
                
                <div class="form-group">
                    <label>معرفة المناطق <span class="required">*</span></label>
                    <textarea name="areaKnowledge" required placeholder="اذكر المناطق التي تعرفها جيداً في مدينتك" rows="3"></textarea>
                </div>
            </div>
            
            <!-- معلومات إضافية -->
            <div class="section">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z"/>
                        </svg>
                    </div>
                    <h3 class="section-title">معلومات إضافية</h3>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>الحالة الاجتماعية <span class="required">*</span></label>
                        <select name="maritalStatus" required>
                            <option value="">-- اختر الحالة الاجتماعية --</option>
                            <option value="single">أعزب</option>
                            <option value="married">متزوج</option>
                            <option value="divorced">مطلق</option>
                            <option value="widowed">أرمل</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>عدد الأطفال</label>
                        <input type="number" name="childrenCount" min="0" max="20" placeholder="0">
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>المستوى التعليمي <span class="required">*</span></label>
                        <select name="education" required>
                            <option value="">-- اختر المستوى التعليمي --</option>
                            <option value="primary">ابتدائي</option>
                            <option value="intermediate">متوسط</option>
                            <option value="secondary">ثانوي</option>
                            <option value="diploma">دبلوم</option>
                            <option value="bachelor">بكالوريوس</option>
                            <option value="master">ماجستير</option>
                            <option value="phd">دكتوراه</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>وقت العمل المفضل <span class="required">*</span></label>
                        <select name="preferredWorkTime" required>
                            <option value="">-- اختر الوقت المفضل --</option>
                            <option value="morning">صباحي (6ص-2م)</option>
                            <option value="evening">مسائي (2م-10م)</option>
                            <option value="night">ليلي (10م-6ص)</option>
                            <option value="flexible">مرن (جميع الأوقات)</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>اسم شخص للطوارئ <span class="required">*</span></label>
                    <input type="text" name="emergencyContactName" required placeholder="الاسم الكامل">
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>رقم هاتف شخص الطوارئ <span class="required">*</span></label>
                        <input type="tel" name="emergencyContactPhone" required pattern="05[0-9]{8}" placeholder="05XXXXXXXX">
                    </div>
                    
                    <div class="form-group">
                        <label>صلة القرابة <span class="required">*</span></label>
                        <select name="emergencyContactRelation" required>
                            <option value="">-- اختر صلة القرابة --</option>
                            <option value="father">الأب</option>
                            <option value="mother">الأم</option>
                            <option value="brother">الأخ</option>
                            <option value="sister">الأخت</option>
                            <option value="spouse">الزوج/الزوجة</option>
                            <option value="son">الابن</option>
                            <option value="daughter">الابنة</option>
                            <option value="friend">صديق</option>
                            <option value="other">أخرى</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- السند الإذني -->
            <div id="promissorySection" class="section" style="display: none;">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M14,2A2,2 0 0,1 16,4V6H20A2,2 0 0,1 22,8V19A2,2 0 0,1 20,21H4C2.89,21 2,20.1 2,19V8C2,6.89 2.89,6 4,6H8V4C8,2.89 8.89,2 10,2H14M9,8V10H15V8H9M4,8V19H20V8H4Z"/>
                        </svg>
                    </div>
                    <h3 class="section-title">السند الإذني (السند لأمر)</h3>
                </div>
                
                <div style="background: #fef2f2; border: 2px solid #ef4444; border-radius: 10px; padding: 25px;">
                    <h4 style="color: #dc2626; margin-bottom: 20px; text-align: center;">⚠️ السند لأمر - تعهد مالي مهم</h4>
                    
                    <div style="background: white; padding: 20px; border-radius: 10px; border-right: 5px solid #dc2626; margin-bottom: 20px;">
                        <h5 style="color: #1f2937; margin-bottom: 15px;">📋 ما هو السند لأمر؟</h5>
                        <p style="line-height: 1.8; color: #374151; margin-bottom: 15px;">
                            السند لأمر هو وثيقة مالية قانونية تُلزم الموقع عليها بدفع مبلغ معين في تاريخ الاستحقاق. 
                            يُستخدم كضمان لحماية الشركة من المخاطر المالية المحتملة.
                        </p>
                        
                        <h5 style="color: #1f2937; margin-bottom: 15px;">⚖️ الالتزامات القانونية:</h5>
                        <ul style="color: #374151; line-height: 1.8; padding-right: 20px;">
                            <li>السند قابل للتنفيذ قانونياً عبر المحاكم السعودية</li>
                            <li>في حالة عدم السداد، يمكن للشركة اتخاذ الإجراءات القانونية</li>
                            <li>قد يؤثر على السجل الائتماني في حالة التعثر</li>
                            <li>يحق للشركة المطالبة بالمبلغ كاملاً عند الإخلال</li>
                        </ul>
                    </div>
                    
                    <div id="promissoryDetails" style="background: #f9fafb; padding: 20px; border-radius: 10px; border: 1px solid #d1d5db;">
                        <!-- سيتم ملء التفاصيل هنا بناءً على التطبيق المختار -->
                    </div>
                    
                    <div style="margin-top: 25px; padding: 20px; background: #fffbeb; border: 2px solid #f59e0b; border-radius: 10px;">
                        <h5 style="color: #d97706; margin-bottom: 15px;">📝 نص السند لأمر:</h5>
                        <div style="background: white; padding: 20px; border-radius: 5px; font-family: 'Times New Roman', serif; line-height: 2; color: #1f2937; border: 1px solid #d1d5db;">
                            <p style="text-align: center; font-weight: bold; margin-bottom: 20px;">سند لأمر</p>
                            <p>أتعهد أنا الموقع أدناه:</p>
                            <p><strong>الاسم:</strong> ............................ <strong>رقم الهوية:</strong> ............................</p>
                            <p>بأن أدفع لأمر <strong>شركة الخط الأول للخدمات اللوجستية</strong></p>
                            <p>مبلغ وقدره: <span id="promissoryAmount" style="font-weight: bold; color: #dc2626;">_____ ريال سعودي</span></p>
                            <p>وذلك عند الطلب الأول دون قيد أو شرط</p>
                            <p>التاريخ: .................... التوقيع: ....................</p>
                            <p style="font-size: 12px; color: #6b7280; margin-top: 20px;">
                                هذا السند قابل للتنفيذ وفقاً لنظام الأوراق التجارية في المملكة العربية السعودية
                            </p>
                        </div>
                    </div>
                    
                    <div style="margin-top: 25px;">
                        <label style="display: flex; align-items: flex-start; cursor: pointer; background: white; padding: 20px; border-radius: 10px; border: 2px solid #ef4444;">
                            <input type="checkbox" id="promissoryAgreement" style="margin-left: 15px; margin-top: 5px; transform: scale(1.3);">
                            <div>
                                <span style="font-weight: bold; color: #dc2626; display: block; margin-bottom: 10px;">
                                    أوافق على توقيع السند لأمر المذكور أعلاه
                                </span>
                                <span style="color: #6b7280; font-size: 14px; line-height: 1.6;">
                                    بتوقيعي على هذا السند، أقر بأنني قد قرأت وفهمت جميع الشروط والالتزامات المترتبة عليه، 
                                    وأوافق على تحمل المسؤولية المالية الكاملة.
                                </span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
            
            <!-- تأكيد البيانات النهائي -->
            <div class="section">
                <div class="section-header">
                    <div class="section-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M10,17L6,13L7.41,11.59L10,14.18L16.59,7.59L18,9L10,17Z"/>
                        </svg>
                    </div>
                    <h3 class="section-title">التأكيد النهائي</h3>
                </div>
                
                <div style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border: 2px solid #0ea5e9; border-radius: 15px; padding: 30px;">
                    <div style="text-align: center; margin-bottom: 25px;">
                        <h4 style="color: #0c4a6e; margin-bottom: 15px;">📋 إقرار وتعهد نهائي</h4>
                        <p style="color: #075985; font-size: 16px; line-height: 1.8;">
                            يرجى قراءة الإقرارات التالية بعناية والتأكد من صحة جميع البيانات قبل الإرسال
                        </p>
                    </div>
                    
                    <div style="background: white; border-radius: 10px; padding: 25px; margin-bottom: 20px;">
                        <div style="display: grid; gap: 15px;">
                            <label style="display: flex; align-items: flex-start; cursor: pointer; padding: 15px; border-radius: 8px; background: #f8fafc; border: 1px solid #e2e8f0;">
                                <input type="checkbox" required style="margin-left: 15px; margin-top: 5px; transform: scale(1.2);">
                                <span style="line-height: 1.6;">
                                    أؤكد أن جميع البيانات والمعلومات المدخلة صحيحة ودقيقة، وأتحمل مسؤولية أي خطأ فيها
                                </span>
                            </label>
                            
                            <label style="display: flex; align-items: flex-start; cursor: pointer; padding: 15px; border-radius: 8px; background: #f8fafc; border: 1px solid #e2e8f0;">
                                <input type="checkbox" required style="margin-left: 15px; margin-top: 5px; transform: scale(1.2);">
                                <span style="line-height: 1.6;">
                                    أؤكد أن جميع المستندات المرفقة أصلية وغير مزورة، وأوافق على التحقق منها
                                </span>
                            </label>
                            
                            <label style="display: flex; align-items: flex-start; cursor: pointer; padding: 15px; border-radius: 8px; background: #f8fafc; border: 1px solid #e2e8f0;">
                                <input type="checkbox" required style="margin-left: 15px; margin-top: 5px; transform: scale(1.2);">
                                <span style="line-height: 1.6;">
                                    أوافق على قيام الشركة بالتحقق من صحة المعلومات من خلال الجهات المختصة
                                </span>
                            </label>
                            
                            <label style="display: flex; align-items: flex-start; cursor: pointer; padding: 15px; border-radius: 8px; background: #f8fafc; border: 1px solid #e2e8f0;">
                                <input type="checkbox" required style="margin-left: 15px; margin-top: 5px; transform: scale(1.2);">
                                <span style="line-height: 1.6;">
                                    أتعهد بالالتزام بجميع قوانين المرور والأنظمة المعمول بها في المملكة العربية السعودية
                                </span>
                            </label>
                            
                            <label style="display: flex; align-items: flex-start; cursor: pointer; padding: 15px; border-radius: 8px; background: #f8fafc; border: 1px solid #e2e8f0;">
                                <input type="checkbox" required style="margin-left: 15px; margin-top: 5px; transform: scale(1.2);">
                                <span style="line-height: 1.6;">
                                    أوافق على سياسة الخصوصية وحماية البيانات الخاصة بالشركة
                                </span>
                            </label>
                            
                            <label style="display: flex; align-items: flex-start; cursor: pointer; padding: 15px; border-radius: 8px; background: #fff7ed; border: 2px solid #fb923c;">
                                <input type="checkbox" required style="margin-left: 15px; margin-top: 5px; transform: scale(1.2);">
                                <span style="line-height: 1.6; font-weight: bold; color: #ea580c;">
                                    أؤكد أنني قد قرأت وفهمت جميع الشروط والأحكام والتعهدات المذكورة في هذا النموذج وأوافق عليها بالكامل
                                </span>
                            </label>
                        </div>
                    </div>
                    
                    <div style="background: #fef3c7; border: 2px solid #f59e0b; border-radius: 10px; padding: 20px; text-align: center;">
                        <p style="color: #92400e; font-weight: bold; margin: 0;">
                            ⚠️ تنبيه: بالضغط على "إرسال التسجيل" فإنك توافق على جميع الشروط والأحكام المذكورة
                        </p>
                    </div>
                </div>
            </div>
                
                <button type="submit" class="btn submit-btn">إرسال التسجيل</button>
            </form>
        </div>
    </div>
    
    <script>
        // عرض تفاصيل التطبيق عند الاختيار
        function showAppDetails() {
            const app = document.getElementById('appSelect').value;
            const detailsContainer = document.getElementById('appDetails');
            const promissorySection = document.getElementById('promissorySection');
            const promissoryDetails = document.getElementById('promissoryDetails');
            const promissoryAmount = document.getElementById('promissoryAmount');
            const stcPledge = document.getElementById('stcPledge');
            
            let details = '';
            let promissoryInfo = '';
            let showPromissory = false;
            let amount = '';
            
            switch(app) {
                case 'kita-shift':
                    details = `
                        <div style="background: #e6f3ff; border: 2px solid #0066cc; border-radius: 10px; padding: 20px; margin-top: 20px;">
                            <h4 style="color: #0066cc; margin-bottom: 15px;">🏢 شروط كيتا - نظام دوام:</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li>✅ دوام ثابت 10 ساعات يومياً</li>
                                <li>✅ فترات العمل: الغداء (11ص-3م) والعشاء (7م-11م)</li>
                                <li>✅ 26 يوم عمل بالشهر كحد أدنى</li>
                                <li>✅ رسوم التوصيل: 10% من قيمة التسعيرة</li>
                                <li>⚠️ قيمة السند لأمر: 5,000 ريال</li>
                                <li>📝 تسليم المبالغ: عند الوصول لحد معين</li>
                                <li>🎯 معدل القبول: يجب عدم رفض الطلبات</li>
                            </ul>
                        </div>
                    `;
                    showPromissory = true;
                    amount = '5,000 ريال سعودي';
                    promissoryInfo = `
                        <h5 style="color: #dc2626; margin-bottom: 15px;">تفاصيل السند لكيتا - نظام دوام:</h5>
                        <ul style="color: #374151; line-height: 1.8; padding-right: 20px;">
                            <li><strong>قيمة السند:</strong> 5,000 ريال سعودي</li>
                            <li><strong>سبب السند:</strong> ضمان الالتزام بشروط الدوام والعمل</li>
                            <li><strong>متى يُستحق:</strong> عند الإخلال بشروط الدوام أو ترك العمل دون إشعار</li>
                            <li><strong>المطالبة:</strong> يحق للشركة المطالبة بالمبلغ كاملاً عند المخالفة</li>
                        </ul>
                    `;
                    break;
                    
                case 'kita-demand':
                    details = `
                        <div style="background: #e6f3ff; border: 2px solid #0066cc; border-radius: 10px; padding: 20px; margin-top: 20px;">
                            <h4 style="color: #0066cc; margin-bottom: 15px;">📱 شروط كيتا - نظام بالطلب:</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li>✅ مرونة في اختيار ساعات العمل</li>
                                <li>✅ لا تقل عن 10 ساعات يومياً</li>
                                <li>✅ عدم رفض الطلبات لمدة 10 ساعات</li>
                                <li>✅ رسوم التوصيل: 10% من قيمة التسعيرة</li>
                                <li>⚠️ قيمة السند لأمر: 5,000 ريال</li>
                                <li>📊 تقييم الأداء: يجب الحفاظ على تقييم عالي</li>
                                <li>🕐 مرونة الوقت: اختيار الأوقات المناسبة</li>
                            </ul>
                        </div>
                    `;
                    showPromissory = true;
                    amount = '5,000 ريال سعودي';
                    promissoryInfo = `
                        <h5 style="color: #dc2626; margin-bottom: 15px;">تفاصيل السند لكيتا - نظام بالطلب:</h5>
                        <ul style="color: #374151; line-height: 1.8; padding-right: 20px;">
                            <li><strong>قيمة السند:</strong> 5,000 ريال سعودي</li>
                            <li><strong>سبب السند:</strong> ضمان الالتزام بقبول الطلبات وساعات العمل</li>
                            <li><strong>متى يُستحق:</strong> عند رفض الطلبات بشكل مستمر أو عدم العمل</li>
                            <li><strong>المطالبة:</strong> يحق للشركة المطالبة بالمبلغ عند المخالفة</li>
                        </ul>
                    `;
                    break;
                    
                case 'jahez':
                    details = `
                        <div style="background: #fff3e0; border: 2px solid #ff9800; border-radius: 10px; padding: 20px; margin-top: 20px;">
                            <h4 style="color: #ff9800; margin-bottom: 15px;">🍔 شروط جاهز:</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li>✅ العمولة: 2 ريال لكل طلب</li>
                                <li>✅ تسليم المبالغ عند 2,000 ريال</li>
                                <li>✅ رسوم الاشتراك: 200 ريال</li>
                                <li>✅ مرونة في اختيار الطلبات</li>
                                <li>⚠️ قيمة السند لأمر: 2,000 ريال</li>
                                <li>📱 استخدام تطبيق جاهز للشركاء</li>
                                <li>🏍️ يُفضل الدراجات النارية للسرعة</li>
                            </ul>
                        </div>
                    `;
                    showPromissory = true;
                    amount = '2,000 ريال سعودي';
                    promissoryInfo = `
                        <h5 style="color: #dc2626; margin-bottom: 15px;">تفاصيل السند لجاهز:</h5>
                        <ul style="color: #374151; line-height: 1.8; padding-right: 20px;">
                            <li><strong>قيمة السند:</strong> 2,000 ريال سعودي</li>
                            <li><strong>سبب السند:</strong> ضمان تسليم المبالغ المحصلة</li>
                            <li><strong>متى يُستحق:</strong> عند عدم تسليم المبالغ في المواعيد المحددة</li>
                            <li><strong>المطالبة:</strong> يحق للشركة المطالبة عند التأخير في التسليم</li>
                        </ul>
                    `;
                    break;
                    
                case 'thechefz':
                    details = `
                        <div style="background: #f3e5f5; border: 2px solid #9c27b0; border-radius: 10px; padding: 20px; margin-top: 20px;">
                            <h4 style="color: #9c27b0; margin-bottom: 15px;">👨‍🍳 شروط ذا شفز:</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li>✅ العمولة: 2 ريال لكل طلب</li>
                                <li>✅ تسليم المبالغ عند 5,000 ريال</li>
                                <li>✅ 8 ساعات عمل يومياً، 26 يوم بالشهر</li>
                                <li>✅ التزام بفتح التطبيق تلقائياً</li>
                                <li>⚠️ قيمة السند لأمر: 5,000 ريال</li>
                                <li>🎯 نظام تقييم صارم للجودة</li>
                                <li>📦 عناية خاصة بالطعام والتغليف</li>
                            </ul>
                        </div>
                    `;
                    showPromissory = true;
                    amount = '5,000 ريال سعودي';
                    promissoryInfo = `
                        <h5 style="color: #dc2626; margin-bottom: 15px;">تفاصيل السند لذا شفز:</h5>
                        <ul style="color: #374151; line-height: 1.8; padding-right: 20px;">
                            <li><strong>قيمة السند:</strong> 5,000 ريال سعودي</li>
                            <li><strong>سبب السند:</strong> ضمان الالتزام بساعات العمل وتسليم المبالغ</li>
                            <li><strong>متى يُستحق:</strong> عند عدم الالتزام بساعات العمل أو تأخير التسليم</li>
                            <li><strong>المطالبة:</strong> يحق للشركة المطالبة عند المخالفة</li>
                        </ul>
                    `;
                    break;
                    
                case 'mrsool':
                    details = `
                        <div style="background: #e8f5e8; border: 2px solid #4caf50; border-radius: 10px; padding: 20px; margin-top: 20px;">
                            <h4 style="color: #4caf50; margin-bottom: 15px;">🚚 شروط مرسول:</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li>✅ 260 طلب = 3,850 ريال + إنترنت</li>
                                <li>✅ 390 طلب = 6,000 ريال + إنترنت</li>
                                <li>✅ 450 طلب = 7,000 ريال + إنترنت</li>
                                <li>🎉 <strong>لا يوجد سند لأمر</strong></li>
                                <li>📊 نظام أهداف شهرية واضحة</li>
                                <li>💰 مكافآت إضافية للأداء المتميز</li>
                                <li>🔄 مرونة في جدولة العمل</li>
                            </ul>
                        </div>
                    `;
                    showPromissory = false;
                    break;
                    
                case 'tuyodelivery':
                    details = `
                        <div style="background: #fce4ec; border: 2px solid #e91e63; border-radius: 10px; padding: 20px; margin-top: 20px;">
                            <h4 style="color: #e91e63; margin-bottom: 15px;">🏍️ شروط تويو للتوصيل:</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li>✅ العمولة: 2 ريال لكل طلب</li>
                                <li>✅ تسليم المبالغ عند 5,000 ريال</li>
                                <li>✅ 25 يوم عمل بالشهر كحد أدنى</li>
                                <li>✅ التقييم المطلوب: 4+ نجوم</li>
                                <li>⚠️ قيمة السند لأمر: 5,000 ريال</li>
                                <li>⚡ توصيل سريع خلال 30 دقيقة</li>
                                <li>📍 تغطية شاملة للمناطق الرئيسية</li>
                            </ul>
                        </div>
                    `;
                    showPromissory = true;
                    amount = '5,000 ريال سعودي';
                    promissoryInfo = `
                        <h5 style="color: #dc2626; margin-bottom: 15px;">تفاصيل السند لتويو:</h5>
                        <ul style="color: #374151; line-height: 1.8; padding-right: 20px;">
                            <li><strong>قيمة السند:</strong> 5,000 ريال سعودي</li>
                            <li><strong>سبب السند:</strong> ضمان الالتزام بأيام العمل وتسليم المبالغ</li>
                            <li><strong>متى يُستحق:</strong> عند عدم تحقيق الحد الأدنى من أيام العمل</li>
                            <li><strong>المطالبة:</strong> يحق للشركة المطالبة عند عدم الالتزام</li>
                        </ul>
                    `;
                    break;
                    
                case 'careem':
                    details = `
                        <div style="background: #f0f9ff; border: 2px solid #0ea5e9; border-radius: 10px; padding: 20px; margin-top: 20px;">
                            <h4 style="color: #0ea5e9; margin-bottom: 15px;">🚗 شروط كريم فود:</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li>✅ نظام عمولة متدرج حسب الأداء</li>
                                <li>✅ مرونة كاملة في اختيار أوقات العمل</li>
                                <li>✅ دعم فني على مدار الساعة</li>
                                <li>✅ برامج تدريبية مجانية</li>
                                <li>⚠️ قيمة السند لأمر: 3,000 ريال</li>
                                <li>🌟 نظام تقييم العملاء</li>
                                <li>💳 دفع إلكتروني آمن</li>
                            </ul>
                        </div>
                    `;
                    showPromissory = true;
                    amount = '3,000 ريال سعودي';
                    promissoryInfo = `
                        <h5 style="color: #dc2626; margin-bottom: 15px;">تفاصيل السند لكريم فود:</h5>
                        <ul style="color: #374151; line-height: 1.8; padding-right: 20px;">
                            <li><strong>قيمة السند:</strong> 3,000 ريال سعودي</li>
                            <li><strong>سبب السند:</strong> ضمان تسليم المبالغ والالتزام بالخدمة</li>
                            <li><strong>متى يُستحق:</strong> عند عدم تسليم المبالغ أو مخالفة الشروط</li>
                        </ul>
                    `;
                    break;
                    
                case 'noon':
                    details = `
                        <div style="background: #fffbeb; border: 2px solid #f59e0b; border-radius: 10px; padding: 20px; margin-top: 20px;">
                            <h4 style="color: #f59e0b; margin-bottom: 15px;">🛍️ شروط نون فود:</h4>
                            <ul style="list-style: none; padding: 0;">
                                <li>✅ راتب ثابت + عمولات متغيرة</li>
                                <li>✅ تأمين صحي وحوادث</li>
                                <li>✅ إجازات مدفوعة الأجر</li>
                                <li>✅ برنامج مكافآت شهرية</li>
                                <li>⚠️ قيمة السند لأمر: 4,000 ريال</li>
                                <li>🎓 برامج تطوير مهني</li>
                                <li>📈 فرص ترقية داخلية</li>
                            </ul>
                        </div>
                    `;
                    showPromissory = true;
                    amount = '4,000 ريال سعودي';
                    promissoryInfo = `
                        <h5 style="color: #dc2626; margin-bottom: 15px;">تفاصيل السند لنون فود:</h5>
                        <ul style="color: #374151; line-height: 1.8; padding-right: 20px;">
                            <li><strong>قيمة السند:</strong> 4,000 ريال سعودي</li>
                            <li><strong>سبب السند:</strong> ضمان الالتزام بشروط العمل والتسليم</li>
                            <li><strong>متى يُستحق:</strong> عند الإخلال بالالتزامات التعاقدية</li>
                        </ul>
                    `;
                    break;
                    
                default:
                    details = '';
                    showPromissory = false;
            }
            
            // عرض تفاصيل التطبيق
            if(app) {
                detailsContainer.innerHTML = details;
                detailsContainer.style.display = 'block';
                stcPledge.style.display = 'block';
            } else {
                detailsContainer.style.display = 'none';
                stcPledge.style.display = 'none';
            }
            
            // عرض أو إخفاء قسم السند الإذني
            if(showPromissory) {
                promissorySection.style.display = 'block';
                promissoryDetails.innerHTML = promissoryInfo;
                promissoryAmount.textContent = amount;
                // جعل السند مطلوب
                document.getElementById('promissoryAgreement').required = true;
            } else {
                promissorySection.style.display = 'none';
                // إلغاء إجبارية السند
                document.getElementById('promissoryAgreement').required = false;
            }
        }
        
        // ربط الدالة بقائمة التطبيقات
        document.getElementById('appSelect').addEventListener('change', showAppDetails);
        
        // وظيفة إرسال رمز التحقق
        document.getElementById('sendCodeBtn').addEventListener('click', function() {
            const phoneNumber = document.querySelector('input[name="phone"]').value;
            if (!phoneNumber) {
                alert('⚠️ يرجى إدخال رقم الجوال أولاً');
                return;
            }
            
            // محاكاة إرسال رمز التحقق
            const code = Math.floor(1000 + Math.random() * 9000);
            alert(`📱 تم إرسال رمز التحقق: ${code}\n(هذا مجرد محاكاة)`);
            
            // تغيير نص الزر مؤقتاً
            const btn = this;
            btn.textContent = 'تم الإرسال ✓';
            btn.disabled = true;
            setTimeout(() => {
                btn.textContent = 'إعادة الإرسال';
                btn.disabled = false;
            }, 30000);
        });
        
        // التحقق من صحة النموذج قبل الإرسال
        function validateForm() {
            const requiredFields = document.querySelectorAll('[required]');
            const missingFields = [];
            
            requiredFields.forEach(field => {
                if (!field.value.trim() || (field.type === 'checkbox' && !field.checked)) {
                    missingFields.push(field.name || field.id || 'حقل مطلوب');
                }
            });
            
            if (missingFields.length > 0) {
                alert(`⚠️ يرجى ملء الحقول المطلوبة التالية:\n${missingFields.join('\n')}`);
                return false;
            }
            
            // التحقق من رقم الهوية
            const idNumber = document.querySelector('input[name="idNumber"]').value;
            if (!/^\d{10}$/.test(idNumber)) {
                alert('⚠️ رقم الهوية يجب أن يكون 10 أرقام');
                return false;
            }
            
            // التحقق من رقم الجوال
            const phone = document.querySelector('input[name="phone"]').value;
            if (!/^05\d{8}$/.test(phone)) {
                alert('⚠️ رقم الجوال يجب أن يبدأ بـ 05 ويكون 10 أرقام');
                return false;
            }
            
            // التحقق من رقم STC Pay
            const stcPay = document.querySelector('input[name="stcPayNumber"]').value;
            if (!/^05\d{8}$/.test(stcPay)) {
                alert('⚠️ رقم STC Pay يجب أن يبدأ بـ 05 ويكون 10 أرقام');
                return false;
            }
            
            return true;
        }
        
        // إرسال النموذج
        document.getElementById('deliveryForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (!validateForm()) {
                return;
            }
            
            const formData = new FormData(e.target);
            
            // إضافة معلومات إضافية
            formData.append('submissionDate', new Date().toISOString());
            formData.append('browserInfo', navigator.userAgent);
            
            try {
                // عرض رسالة تحميل
                const submitBtn = document.querySelector('.submit-btn');
                const originalText = submitBtn.textContent;
                submitBtn.textContent = 'جاري الإرسال...';
                submitBtn.disabled = true;
                
                const response = await fetch('/submit', {
                    method: 'POST',
                    body: formData
                });
                
                if (response.ok) {
                    // نجح الإرسال
                    document.body.innerHTML = `
                        <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px;">
                            <div style="background: white; border-radius: 20px; padding: 40px; text-align: center; max-width: 600px; box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);">
                                <div style="font-size: 64px; margin-bottom: 20px;">🎉</div>
                                <h2 style="color: #10b981; margin-bottom: 20px;">تم الإرسال بنجاح!</h2>
                                <p style="color: #6b7280; font-size: 18px; line-height: 1.6; margin-bottom: 30px;">
                                    شكراً لك على التسجيل في شركة الخط الأول للخدمات اللوجستية.<br>
                                    سيتم مراجعة طلبك والتواصل معك خلال 24-48 ساعة.
                                </p>
                                <div style="background: #f0f9ff; border: 2px solid #3b82f6; border-radius: 10px; padding: 20px; margin-bottom: 30px;">
                                    <h4 style="color: #1e40af; margin-bottom: 15px;">الخطوات التالية:</h4>
                                    <ul style="text-align: right; color: #374151; line-height: 1.8;">
                                        <li>مراجعة البيانات والمستندات المرسلة</li>
                                        <li>التحقق من صحة المعلومات</li>
                                        <li>التواصل معك لتحديد موعد المقابلة</li>
                                        <li>بدء عملية التدريب والتأهيل</li>
                                    </ul>
                                </div>
                                <p style="color: #6b7280; font-size: 14px;">
                                    في حالة وجود أي استفسار، يرجى التواصل على:<br>
                                    📞 الهاتف: 920012345<br>
                                    📧 البريد: info@alkhatalool.com
                                </p>
                            </div>
                        </div>
                    `;
                } else {
                    throw new Error('فشل في الإرسال');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('❌ حدث خطأ في الإرسال. يرجى المحاولة مرة أخرى أو التواصل معنا مباشرة.');
                
                // إعادة تفعيل الزر
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });
        
        // منع إرسال النموذج بالضغط على Enter في الحقول
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.target.tagName !== 'TEXTAREA' && e.target.type !== 'submit') {
                e.preventDefault();
            }
        });
        
        // حفظ البيانات محلياً أثناء الكتابة (اختياري)
        function saveFormData() {
            const formData = new FormData(document.getElementById('deliveryForm'));
            const data = {};
            for (let [key, value] of formData.entries()) {
                if (typeof value === 'string') {
                    data[key] = value;
                }
            }
            localStorage.setItem('deliveryFormDraft', JSON.stringify(data));
        }
        
        // استرجاع البيانات المحفوظة
        function loadFormData() {
            const savedData = localStorage.getItem('deliveryFormDraft');
            if (savedData) {
                const data = JSON.parse(savedData);
                Object.keys(data).forEach(key => {
                    const field = document.querySelector(`[name="${key}"]`);
                    if (field && field.type !== 'file') {
                        field.value = data[key];
                    }
                });
            }
        }
        
        // تطبيق الحفظ التلقائي
        document.addEventListener('input', saveFormData);
        
        // تحميل البيانات عند تحميل الصفحة
        window.addEventListener('load', loadFormData);
    </script>
</body>
</html>
